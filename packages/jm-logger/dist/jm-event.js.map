{"version":3,"file":"jm-event.js","sources":["../lib/index.js"],"sourcesContent":["const levels = {\n  error: 0,\n  warn: 1,\n  info: 2,\n  debug: 3\n}\n\nfunction none () {}\n\nclass Logger {\n  constructor (opts = {}) {\n    this.level = opts.level || 'debug'\n    this.category = opts.category || 'default'\n  }\n\n  set level (level) {\n    level || (level = 'debug')\n    this._levelName = level.toLocaleLowerCase()\n    this._level = levels[this._levelName]\n\n    Object.keys(levels)\n      .forEach(level => {\n        if (this._level < levels[level]) {\n          this[level] = none\n        } else {\n          if (level === 'debug') {\n            this[level] = console.log\n          } else {\n            this[level] = console[level]\n          }\n        }\n      })\n  }\n\n  get level () {\n    return this._levelName\n  }\n\n  get levelValue () {\n    return this._level\n  }\n}\n\nlet loggers = {}\n\nlet getLogger = (loggerCategoryName = 'default') => {\n  if (!loggers[loggerCategoryName]) {\n    loggers[loggerCategoryName] = new Logger({category: loggerCategoryName})\n  }\n  return loggers[loggerCategoryName]\n}\n\nlet moduleLogger = function (name = 'logger') {\n  let obj = this\n  obj.getLogger = getLogger\n  obj.logger = getLogger()\n  return {\n    name: name,\n    unuse: function () {\n      delete obj.logger\n      delete obj.getLogger\n    }\n  }\n}\n\nlet $ = {\n  logger: getLogger(),\n  getLogger: getLogger,\n  moduleLogger: moduleLogger\n}\n\nmodule.exports = $\n"],"names":["levels","error","warn","info","debug","none","Logger","opts","level","category","_levelName","toLocaleLowerCase","_level","Object","keys","forEach","console","log","loggers","getLogger","loggerCategoryName","moduleLogger","name","obj","logger","unuse","$","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA,IAAMA,MAAM,GAAG;EACbC,EAAAA,KAAK,EAAE,CADM;EAEbC,EAAAA,IAAI,EAAE,CAFO;EAGbC,EAAAA,IAAI,EAAE,CAHO;EAIbC,EAAAA,KAAK,EAAE;EAJM,CAAf;;EAOA,SAASC,IAAT,GAAiB;;MAEXC;;;EACJ,oBAAwB;EAAA,QAAXC,IAAW,uEAAJ,EAAI;;EAAA;;EACtB,SAAKC,KAAL,GAAaD,IAAI,CAACC,KAAL,IAAc,OAA3B;EACA,SAAKC,QAAL,GAAgBF,IAAI,CAACE,QAAL,IAAiB,SAAjC;EACD;;;;wBAEUD,OAAO;EAAA;;EAChBA,MAAAA,KAAK,KAAKA,KAAK,GAAG,OAAb,CAAL;EACA,WAAKE,UAAL,GAAkBF,KAAK,CAACG,iBAAN,EAAlB;EACA,WAAKC,MAAL,GAAcZ,MAAM,CAAC,KAAKU,UAAN,CAApB;EAEAG,MAAAA,MAAM,CAACC,IAAP,CAAYd,MAAZ,EACGe,OADH,CACW,UAAAP,KAAK,EAAI;EAChB,YAAI,KAAI,CAACI,MAAL,GAAcZ,MAAM,CAACQ,KAAD,CAAxB,EAAiC;EAC/B,UAAA,KAAI,CAACA,KAAD,CAAJ,GAAcH,IAAd;EACD,SAFD,MAEO;EACL,cAAIG,KAAK,KAAK,OAAd,EAAuB;EACrB,YAAA,KAAI,CAACA,KAAD,CAAJ,GAAcQ,OAAO,CAACC,GAAtB;EACD,WAFD,MAEO;EACL,YAAA,KAAI,CAACT,KAAD,CAAJ,GAAcQ,OAAO,CAACR,KAAD,CAArB;EACD;EACF;EACF,OAXH;EAYD;0BAEY;EACX,aAAO,KAAKE,UAAZ;EACD;;;0BAEiB;EAChB,aAAO,KAAKE,MAAZ;EACD;;;;;;EAGH,IAAIM,OAAO,GAAG,EAAd;;EAEA,IAAIC,SAAS,GAAG,SAAZA,SAAY,GAAoC;EAAA,MAAnCC,kBAAmC,uEAAd,SAAc;;EAClD,MAAI,CAACF,OAAO,CAACE,kBAAD,CAAZ,EAAkC;EAChCF,IAAAA,OAAO,CAACE,kBAAD,CAAP,GAA8B,IAAId,MAAJ,CAAW;EAACG,MAAAA,QAAQ,EAAEW;EAAX,KAAX,CAA9B;EACD;;EACD,SAAOF,OAAO,CAACE,kBAAD,CAAd;EACD,CALD;;EAOA,IAAIC,YAAY,GAAG,SAAfA,YAAe,GAA2B;EAAA,MAAjBC,IAAiB,uEAAV,QAAU;EAC5C,MAAIC,GAAG,GAAG,IAAV;EACAA,EAAAA,GAAG,CAACJ,SAAJ,GAAgBA,SAAhB;EACAI,EAAAA,GAAG,CAACC,MAAJ,GAAaL,SAAS,EAAtB;EACA,SAAO;EACLG,IAAAA,IAAI,EAAEA,IADD;EAELG,IAAAA,KAAK,EAAE,iBAAY;EACjB,aAAOF,GAAG,CAACC,MAAX;EACA,aAAOD,GAAG,CAACJ,SAAX;EACD;EALI,GAAP;EAOD,CAXD;;EAaA,IAAIO,CAAC,GAAG;EACNF,EAAAA,MAAM,EAAEL,SAAS,EADX;EAENA,EAAAA,SAAS,EAAEA,SAFL;EAGNE,EAAAA,YAAY,EAAEA;EAHR,CAAR;EAMAM,MAAM,CAACC,OAAP,GAAiBF,CAAjB;;;;"}
{"version":3,"file":"index.js","sources":["../lib/index.js"],"sourcesContent":["const levels = {\n  error: 0,\n  warn: 1,\n  info: 2,\n  debug: 3\n}\n\nfunction none () {}\n\nclass Logger {\n  constructor (opts = {}) {\n    this.level = opts.level || 'debug'\n    this.category = opts.category || 'default'\n  }\n\n  set level (level) {\n    level || (level = 'debug')\n    this._levelName = level.toLocaleLowerCase()\n    this._level = levels[this._levelName]\n\n    Object.keys(levels)\n      .forEach(level => {\n        if (this._level < levels[level]) {\n          this[level] = none\n        } else {\n          if (level === 'debug') {\n            this[level] = console.log.bind(console)\n          } else {\n            this[level] = console[level].bind(console)\n          }\n        }\n      })\n  }\n\n  get level () {\n    return this._levelName\n  }\n\n  get levelValue () {\n    return this._level\n  }\n}\n\nlet loggers = {}\n\nlet getLogger = (loggerCategoryName = 'default') => {\n  if (!loggers[loggerCategoryName]) {\n    loggers[loggerCategoryName] = new Logger({ category: loggerCategoryName })\n  }\n  return loggers[loggerCategoryName]\n}\n\nlet moduleLogger = function (name = 'logger') {\n  let obj = this\n  obj.getLogger = getLogger\n  obj.logger = getLogger()\n  return {\n    name: name,\n    unuse: function () {\n      delete obj.logger\n      delete obj.getLogger\n    }\n  }\n}\n\nlet $ = {\n  logger: getLogger(),\n  getLogger: getLogger,\n  moduleLogger: moduleLogger\n}\n\nmodule.exports = $\n"],"names":["levels","error","warn","info","debug","none","Logger","opts","level","category","_levelName","toLocaleLowerCase","_level","Object","keys","forEach","console","log","bind","loggers","getLogger","loggerCategoryName","moduleLogger","name","obj","logger","unuse","$"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,MAAM,GAAG;EACbC,KAAK,EAAE,CADM;EAEbC,IAAI,EAAE,CAFO;EAGbC,IAAI,EAAE,CAHO;EAIbC,KAAK,EAAE;CAJT;;AAOA,SAASC,IAAT,GAAiB;;IAEXC;;;oBACoB;QAAXC,IAAW,uEAAJ,EAAI;;;;SACjBC,KAAL,GAAaD,IAAI,CAACC,KAAL,IAAc,OAA3B;SACKC,QAAL,GAAgBF,IAAI,CAACE,QAAL,IAAiB,SAAjC;;;;;sBAGSD,OAAO;;;MAChBA,KAAK,KAAKA,KAAK,GAAG,OAAb,CAAL;WACKE,UAAL,GAAkBF,KAAK,CAACG,iBAAN,EAAlB;WACKC,MAAL,GAAcZ,MAAM,CAAC,KAAKU,UAAN,CAApB;MAEAG,MAAM,CAACC,IAAP,CAAYd,MAAZ,EACGe,OADH,CACW,UAAAP,KAAK,EAAI;YACZ,KAAI,CAACI,MAAL,GAAcZ,MAAM,CAACQ,KAAD,CAAxB,EAAiC;UAC/B,KAAI,CAACA,KAAD,CAAJ,GAAcH,IAAd;SADF,MAEO;cACDG,KAAK,KAAK,OAAd,EAAuB;YACrB,KAAI,CAACA,KAAD,CAAJ,GAAcQ,OAAO,CAACC,GAAR,CAAYC,IAAZ,CAAiBF,OAAjB,CAAd;WADF,MAEO;YACL,KAAI,CAACR,KAAD,CAAJ,GAAcQ,OAAO,CAACR,KAAD,CAAP,CAAeU,IAAf,CAAoBF,OAApB,CAAd;;;OARR;;wBAcW;aACJ,KAAKN,UAAZ;;;;wBAGgB;aACT,KAAKE,MAAZ;;;;;;;AAIJ,IAAIO,OAAO,GAAG,EAAd;;AAEA,IAAIC,SAAS,GAAG,SAAZA,SAAY,GAAoC;MAAnCC,kBAAmC,uEAAd,SAAc;;MAC9C,CAACF,OAAO,CAACE,kBAAD,CAAZ,EAAkC;IAChCF,OAAO,CAACE,kBAAD,CAAP,GAA8B,IAAIf,MAAJ,CAAW;MAAEG,QAAQ,EAAEY;KAAvB,CAA9B;;;SAEKF,OAAO,CAACE,kBAAD,CAAd;CAJF;;AAOA,IAAIC,YAAY,GAAG,SAAfA,YAAe,GAA2B;MAAjBC,IAAiB,uEAAV,QAAU;MACxCC,GAAG,GAAG,IAAV;EACAA,GAAG,CAACJ,SAAJ,GAAgBA,SAAhB;EACAI,GAAG,CAACC,MAAJ,GAAaL,SAAS,EAAtB;SACO;IACLG,IAAI,EAAEA,IADD;IAELG,KAAK,EAAE,iBAAY;aACVF,GAAG,CAACC,MAAX;aACOD,GAAG,CAACJ,SAAX;;GAJJ;CAJF;;AAaA,IAAIO,CAAC,GAAG;EACNF,MAAM,EAAEL,SAAS,EADX;EAENA,SAAS,EAAEA,SAFL;EAGNE,YAAY,EAAEA;CAHhB;AAMA,OAAc,GAAGK,CAAjB;;;;"}
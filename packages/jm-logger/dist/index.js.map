{"version":3,"file":"index.js","sources":["../lib/index.js"],"sourcesContent":["const levels = {\n  error: 0,\n  warn: 1,\n  info: 2,\n  debug: 3\n}\n\nfunction none () {}\n\nclass Logger {\n  constructor (opts = {}) {\n    this.level = opts.level || 'debug'\n    this.category = opts.category || 'default'\n  }\n\n  set level (level) {\n    level || (level = 'debug')\n    this._levelName = level.toLocaleLowerCase()\n    this._level = levels[this._levelName]\n\n    Object.keys(levels)\n      .forEach(level => {\n        if (this._level < levels[level]) {\n          this[level] = none\n        } else {\n          if (level === 'debug') {\n            this[level] = console.log.bind(console)\n          } else {\n            this[level] = console[level].bind(console)\n          }\n        }\n      })\n  }\n\n  get level () {\n    return this._levelName\n  }\n\n  get levelValue () {\n    return this._level\n  }\n}\n\nlet loggers = {}\n\nlet getLogger = (loggerCategoryName = 'default') => {\n  if (!loggers[loggerCategoryName]) {\n    loggers[loggerCategoryName] = new Logger({ category: loggerCategoryName })\n  }\n  return loggers[loggerCategoryName]\n}\n\nlet moduleLogger = function (name = 'logger') {\n  let obj = this\n  obj.getLogger = getLogger\n  obj.logger = getLogger()\n  return {\n    name: name,\n    unuse: function () {\n      delete obj.logger\n      delete obj.getLogger\n    }\n  }\n}\n\nlet $ = {\n  logger: getLogger(),\n  getLogger: getLogger,\n  moduleLogger: moduleLogger\n}\n\nmodule.exports = $\n"],"names":["levels","error","warn","info","debug","none","Logger","opts","level","category","_levelName","toLocaleLowerCase","_level","Object","keys","forEach","console","log","bind","loggers","getLogger","loggerCategoryName","moduleLogger","name","obj","logger","unuse","$"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,MAAM,GAAG;AACbC,EAAAA,KAAK,EAAE,CADM;AAEbC,EAAAA,IAAI,EAAE,CAFO;AAGbC,EAAAA,IAAI,EAAE,CAHO;AAIbC,EAAAA,KAAK,EAAE;AAJM,CAAf;;AAOA,SAASC,IAAT,GAAiB;;IAEXC;AACJ,oBAAwB;AAAA,QAAXC,IAAW,uEAAJ,EAAI;;AAAA;;AACtB,SAAKC,KAAL,GAAaD,IAAI,CAACC,KAAL,IAAc,OAA3B;AACA,SAAKC,QAAL,GAAgBF,IAAI,CAACE,QAAL,IAAiB,SAAjC;AACD;;;;sBAEUD,OAAO;AAAA;;AAChBA,MAAAA,KAAK,KAAKA,KAAK,GAAG,OAAb,CAAL;AACA,WAAKE,UAAL,GAAkBF,KAAK,CAACG,iBAAN,EAAlB;AACA,WAAKC,MAAL,GAAcZ,MAAM,CAAC,KAAKU,UAAN,CAApB;AAEAG,MAAAA,MAAM,CAACC,IAAP,CAAYd,MAAZ,EACGe,OADH,CACW,UAAAP,KAAK,EAAI;AAChB,YAAI,KAAI,CAACI,MAAL,GAAcZ,MAAM,CAACQ,KAAD,CAAxB,EAAiC;AAC/B,UAAA,KAAI,CAACA,KAAD,CAAJ,GAAcH,IAAd;AACD,SAFD,MAEO;AACL,cAAIG,KAAK,KAAK,OAAd,EAAuB;AACrB,YAAA,KAAI,CAACA,KAAD,CAAJ,GAAcQ,OAAO,CAACC,GAAR,CAAYC,IAAZ,CAAiBF,OAAjB,CAAd;AACD,WAFD,MAEO;AACL,YAAA,KAAI,CAACR,KAAD,CAAJ,GAAcQ,OAAO,CAACR,KAAD,CAAP,CAAeU,IAAf,CAAoBF,OAApB,CAAd;AACD;AACF;AACF,OAXH;AAYD;wBAEY;AACX,aAAO,KAAKN,UAAZ;AACD;;;wBAEiB;AAChB,aAAO,KAAKE,MAAZ;AACD;;;;;;AAGH,IAAIO,OAAO,GAAG,EAAd;;AAEA,IAAIC,SAAS,GAAG,SAAZA,SAAY,GAAoC;AAAA,MAAnCC,kBAAmC,uEAAd,SAAc;;AAClD,MAAI,CAACF,OAAO,CAACE,kBAAD,CAAZ,EAAkC;AAChCF,IAAAA,OAAO,CAACE,kBAAD,CAAP,GAA8B,IAAIf,MAAJ,CAAW;AAAEG,MAAAA,QAAQ,EAAEY;AAAZ,KAAX,CAA9B;AACD;;AACD,SAAOF,OAAO,CAACE,kBAAD,CAAd;AACD,CALD;;AAOA,IAAIC,YAAY,GAAG,SAAfA,YAAe,GAA2B;AAAA,MAAjBC,IAAiB,uEAAV,QAAU;AAC5C,MAAIC,GAAG,GAAG,IAAV;AACAA,EAAAA,GAAG,CAACJ,SAAJ,GAAgBA,SAAhB;AACAI,EAAAA,GAAG,CAACC,MAAJ,GAAaL,SAAS,EAAtB;AACA,SAAO;AACLG,IAAAA,IAAI,EAAEA,IADD;AAELG,IAAAA,KAAK,EAAE,iBAAY;AACjB,aAAOF,GAAG,CAACC,MAAX;AACA,aAAOD,GAAG,CAACJ,SAAX;AACD;AALI,GAAP;AAOD,CAXD;;AAaA,IAAIO,CAAC,GAAG;AACNF,EAAAA,MAAM,EAAEL,SAAS,EADX;AAENA,EAAAA,SAAS,EAAEA,SAFL;AAGNE,EAAAA,YAAY,EAAEA;AAHR,CAAR;AAMA,OAAc,GAAGK,CAAjB;;;;"}